import{u as c,j as t,A as l,a as b,r as _}from"./index-9a442ef0.js";import{b as g}from"./index-9a442ef0.js";const x=({defaultValues:e})=>{const{postData:s,updateData:p}=new l,r=c(),o=a=>{a.preventDefault();const n=new FormData;n.append("title_uz",a.target.title_uz.value),n.append("title_ru",a.target.title_ru.value),n.append("title_en",a.target.title_en.value),n.append("body_uz",a.target.body_uz.value),n.append("body_ru",a.target.body_ru.value),n.append("body_en",a.target.body_en.value),n.append("date",a.target.date.value),n.append("photo",a.target.photo.files[0]),r(e?p(e._id,n):s(n))};return t.jsxs("div",{children:[t.jsx("h1",{children:"Elon qo'shish"}),t.jsxs("form",{action:"",className:"w-[500px] flex flex-col gap-2",onSubmit:o,children:[t.jsx("input",{type:"text",name:"title_uz",defaultValue:e?e.title_uz:""}),t.jsx("input",{type:"text",name:"title_ru",defaultValue:e?e.title_ru:""}),t.jsx("input",{type:"text",name:"title_en",defaultValue:e?e.title_en:""}),t.jsx("input",{type:"text",name:"body_uz",defaultValue:e?e.body_uz:""}),t.jsx("input",{type:"text",name:"body_ru",defaultValue:e?e.body_ru:""}),t.jsx("input",{type:"text",name:"body_en",defaultValue:e?e.body_en:""}),t.jsx("input",{type:"date",name:"date",defaultValue:e?e.date:""}),t.jsx("input",{type:"file",name:"photo"}),t.jsx("button",{className:"p-1 bg-indigo-400",children:"Submit"})]})]})},m=()=>{const{getData:e,getDataById:s,deleteData:p}=new l,r=i=>i.aboutUs,{data:o,dataById:a,loading:n,error:u}=b(r),d=c();return _.useEffect(()=>{d(e())},[]),u?t.jsx("h1",{children:u}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl",children:"ABOUT US"}),t.jsx(x,{}),n?t.jsx("h1",{children:"Loading..."}):o==null?void 0:o.map(i=>t.jsx("button",{className:"bg-indigo-400 p-2 rounded mx-2",onClick:()=>d(s(i._id)),onDoubleClick:()=>d(p(i._id)),draggable:!0,children:i.title_uz})),n?t.jsx("h1",{children:"Loading..."}):t.jsx(x,{defaultValues:a})]})};export{m as AboutUs,g as aboutUsReducer};
